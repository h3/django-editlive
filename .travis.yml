language: python
env:
# - DJANGO_VERSION=1.3.1
  - DJANGO_VERSION=1.4.3
python:
  - "2.7"
before_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
install:
# - "pip install . --use-mirrors"
  - "pip install -q Django==$DJANGO_VERSION --use-mirrors"
  - "pip install -r requirements.txt --use-mirrors"
  - "pip install -q MySQL-python --use-mirrors"
  - "python setup.py -q install --use-mirrors"
  - "mysql -e 'create database django_test_other;'"
# command to run tests
script: nosetests

#install:
#  # Firefox is already installed
#  # Install Google Chrome
#  - "wget https://dl.google.com/linux/direct/google-chrome-stable_current_i386.deb"
#  - "sudo apt-get install libgconf2-4"
#  - "sudo dpkg -i google-chrome*.deb"
#  - "sudo apt-get -f install" # reported dependency issue?
#  # Install the Google Chrome webdriver
#  - "mkdir /tmp/bin"
#  - "wget https://chromedriver.googlecode.com/files/chromedriver_linux32_23.0.1240.0.zip"
#  - "unzip chromedriver_linux32_23.0.1240.0.zip"
#  - "mv chromedriver /tmp/bin"
#  - "pip install -r requirements.txt"
#before_script:
#  # Setup headless X per http://about.travis-ci.org/docs/user/gui-and-headless-browsers/
#  - "export DISPLAY=:99.0"
#  - "sh -e /etc/init.d/xvfb start"
#script:
#  - "PATH=$PATH:/tmp/bin project/manage.py test"
#  - "PATH=$PATH:/tmp/bin project/manage.py harvest -d --settings=envs.lettuce"
